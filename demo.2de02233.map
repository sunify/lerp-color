{"version":3,"sources":["node_modules/lerp/index.js","node_modules/lerp-array/index.js","node_modules/rgb-hex/index.js","node_modules/hex-rgb/index.js","src/utils.ts","src/index.ts","demo.js"],"names":["module","exports","red","green","blue","alpha","isPercent","toString","includes","res","match","map","Number","undefined","parseFloat","TypeError","Math","round","slice","hexChars","match3or4Hex","match6or8Hex","nonHexChars","RegExp","validHexSize","hex","options","test","replace","length","parseInt","substring","repeat","num","format","steps","document","getElementById","color","percent","link","querySelector","colors","Array","from","querySelectorAll","innerHTML","innerText","split","c","join","linkChars","stepsCount","stepsDivs","i","div","createElement","push","appendChild","refreshColors","colorValues","value","forEach","step","style","backgroundColor","lerp","char","chars","backgroundImage","colorInput","addEventListener"],"mappings":"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","file":"demo.2de02233.map","sourceRoot":"..","sourcesContent":["function lerp(v0, v1, t) {\n    return v0*(1-t)+v1*t\n}\nmodule.exports = lerp","var lerp = require('lerp')\n\nmodule.exports = function lerpValues(value1, value2, t, out) {\n    if (typeof value1 === 'number'\n            && typeof value2 === 'number')\n        return lerp(value1, value2, t)\n    else { //assume array\n        var len = Math.min(value1.length, value2.length)\n        out = out||new Array(len)\n        for (var i=0; i<len; i++) \n            out[i] = lerp(value1[i], value2[i], t)\n        return out\n    }\n}","'use strict';\n/* eslint-disable no-mixed-operators */\nmodule.exports = (red, green, blue, alpha) => {\n\tconst isPercent = (red + (alpha || '')).toString().includes('%');\n\n\tif (typeof red === 'string') {\n\t\tconst res = red.match(/(0?\\.?\\d{1,3})%?\\b/g).map(Number);\n\t\t// TODO: use destructuring when targeting Node.js 6\n\t\tred = res[0];\n\t\tgreen = res[1];\n\t\tblue = res[2];\n\t\talpha = res[3];\n\t} else if (alpha !== undefined) {\n\t\talpha = parseFloat(alpha);\n\t}\n\n\tif (typeof red !== 'number' ||\n\t\ttypeof green !== 'number' ||\n\t\ttypeof blue !== 'number' ||\n\t\tred > 255 ||\n\t\tgreen > 255 ||\n\t\tblue > 255) {\n\t\tthrow new TypeError('Expected three numbers below 256');\n\t}\n\n\tif (typeof alpha === 'number') {\n\t\tif (!isPercent && alpha >= 0 && alpha <= 1) {\n\t\t\talpha = Math.round(255 * alpha);\n\t\t} else if (isPercent && alpha >= 0 && alpha <= 100) {\n\t\t\talpha = Math.round(255 * alpha / 100);\n\t\t} else {\n\t\t\tthrow new TypeError(`Expected alpha value (${alpha}) as a fraction or percentage`);\n\t\t}\n\t\talpha = (alpha | 1 << 8).toString(16).slice(1);\n\t} else {\n\t\talpha = '';\n\t}\n\n\treturn ((blue | green << 8 | red << 16) | 1 << 24).toString(16).slice(1) + alpha;\n};\n","'use strict';\n\nconst hexChars = 'a-f\\\\d';\nconst match3or4Hex = `#?[${hexChars}]{3}[${hexChars}]?`;\nconst match6or8Hex = `#?[${hexChars}]{6}([${hexChars}]{2})?`;\n\nconst nonHexChars = new RegExp(`[^#${hexChars}]`, 'gi');\nconst validHexSize = new RegExp(`^${match3or4Hex}$|^${match6or8Hex}$`, 'i');\n\nmodule.exports = function (hex, options = {}) {\n\tif (typeof hex !== 'string' || nonHexChars.test(hex) || !validHexSize.test(hex)) {\n\t\tthrow new TypeError('Expected a valid hex string');\n\t}\n\n\thex = hex.replace(/^#/, '');\n\tlet alpha = 255;\n\n\tif (hex.length === 8) {\n\t\talpha = parseInt(hex.slice(6, 8), 16) / 255;\n\t\thex = hex.substring(0, 6);\n\t}\n\n\tif (hex.length === 4) {\n\t\talpha = parseInt(hex.slice(3, 4).repeat(2), 16) / 255;\n\t\thex = hex.substring(0, 3);\n\t}\n\n\tif (hex.length === 3) {\n\t\thex = hex[0] + hex[0] + hex[1] + hex[1] + hex[2] + hex[2];\n\t}\n\n\tconst num = parseInt(hex, 16);\n\tconst red = num >> 16;\n\tconst green = (num >> 8) & 255;\n\tconst blue = num & 255;\n\n\treturn options.format === 'array' ?\n\t\t[red, green, blue, alpha] :\n\t\t{red, green, blue, alpha};\n};\n","import rgbHex from 'rgb-hex';\nimport hexRgb from 'hex-rgb';\n\nexport const hexColorRegex = /^#(?=[0-9a-fA-F]*$)(?:.{3}|.{4}|.{6}|.{8})$/;\nexport const rgbColorRegex = /^rgb\\((\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\)$/;\nexport const rgbaColorRegex = /^rgba\\((\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*,\\s*(\\d+(?:\\.\\d+)?|\\.\\d+)\\)$/;\nexport const rgbaHexColorRegex = /^rgba\\((#[0-9a-fA-F]{3,6})\\s*,\\s*(\\d+(?:\\.\\d+)?|\\.\\d+)\\)$/;\n\nexport const isColor = (c: any) =>\n  hexColorRegex.test(String(c)) ||\n  rgbColorRegex.test(String(c)) ||\n  rgbaColorRegex.test(String(c)) ||\n  rgbaHexColorRegex.test(String(c));\n\nexport const parseColor = (color: string) => {\n  if (hexColorRegex.test(color)) {\n    const [r, g, b, a] = hexRgb(color, { format: 'array' });\n    return [r, g, b, a === 255 ? 1 : a];\n  }\n\n  if (rgbColorRegex.test(color)) {\n    const match = color.match(rgbColorRegex);\n    if (match) {\n      return match\n        .slice(1, 4)\n        .map(Number)\n        .concat([1]);\n    }\n  }\n\n  if (rgbaColorRegex.test(color)) {\n    const match = color.match(rgbaColorRegex);\n    if (match) {\n      return match.slice(1, 5).map(Number);\n    }\n  }\n\n  if (rgbaHexColorRegex.test(color)) {\n    const match = color.match(rgbaHexColorRegex);\n    if (match) {\n      return hexRgb(match[1], { format: 'array' })\n        .slice(0, 3)\n        .concat([Number(match[2])]);\n    }\n    return [];\n  }\n\n  return undefined;\n};\n\nexport const stringifyColor = (color: number[], target: string) => {\n  const [r, g, b] = color.slice(0, 3).map(Math.round);\n  const a = color[3];\n\n  if (hexColorRegex.test(target)) {\n    if (a === 1) {\n      return `#${rgbHex(r, g, b)}`;\n    }\n\n    return `#${rgbHex(r, g, b, a)}`;\n  }\n\n  if (rgbColorRegex.test(target) && a === 1) {\n    return `rgb(${r}, ${g}, ${b})`;\n  }\n\n  return `rgba(${r}, ${g}, ${b}, ${a})`;\n};\n\nexport const getStep = (colors: any[]): [string, string, number] => {\n  if (colors.length === 3) {\n    return colors as [string, string, number];\n  }\n  const [time] = colors.splice(-1) as number[];\n  const steps = colors.length - 1;\n  const stepSize = 1 / steps;\n  const step = Math.min(steps - 1, Math.floor(time / stepSize));\n  return [\n    colors[step] as string,\n    colors[step + 1] as string,\n    (time - stepSize * step) / stepSize\n  ];\n};\n","import lerpArray from 'lerp-array';\nimport {\n  parseColor,\n  stringifyColor,\n  getStep,\n  rgbaHexColorRegex\n} from './utils';\nimport lerpFunc from './declaration';\n\nexport { isColor } from './utils';\n\nconst lerpColor: lerpFunc = (...colors: any[]): string | undefined => {\n  const [start, end, time] = getStep(colors);\n\n  if ((time === 0 || start === end) && !rgbaHexColorRegex.test(start)) {\n    return start;\n  }\n\n  if (time === 1 && !rgbaHexColorRegex.test(end)) {\n    return end;\n  }\n\n  const startColor = parseColor(start);\n  const endColor = parseColor(end);\n\n  if (startColor && endColor) {\n    return stringifyColor(lerpArray(startColor, endColor, time), end);\n  }\n\n  return undefined;\n};\n\nexport default lerpColor;\n","import lerp from './src/index';\n\nconst steps = document.getElementById('steps');\n// const color1 = document.getElementById('color1');\n// const color2 = document.getElementById('color2');\nconst color = document.getElementById('color');\nconst percent = document.getElementById('percent');\nconst link = document.querySelector('h1 a');\nconst colors = Array.from(document.querySelectorAll('.color-input'));\n\nlink.innerHTML = link.innerText\n  .split('')\n  .map(c => `<span>${c}</span>`)\n  .join('');\n\nconst linkChars = Array.from(link.querySelectorAll('span'));\n\nconst stepsCount = 13;\nconst stepsDivs = [];\nfor (let i = 0; i < stepsCount; i += 1) {\n  const div = document.createElement('div');\n  stepsDivs.push(div);\n  steps.appendChild(div);\n}\n\nfunction refreshColors() {\n  const colorValues = colors.map(c => c.value);\n\n  stepsDivs.forEach((step, i) => {\n    step.style.backgroundColor = lerp(...colorValues, i / (stepsCount - 1));\n  });\n  color.style.backgroundColor = lerp(\n    ...colorValues,\n    Number(percent.value) / 100\n  );\n\n  linkChars.forEach((char, i, chars) => {\n    char.style.color = lerp(...colorValues, i / (chars.length - 1));\n  });\n\n  link.style.backgroundImage = `linear-gradient(to right, ${colorValues.join(\n    ', '\n  )})`;\n}\n\ncolors[0].value = '#41bbe9';\ncolors[1].value = '#b710da';\ncolors[2].value = '#fd8978';\nrefreshColors();\n\ncolors.forEach(colorInput => {\n  colorInput.addEventListener('change', refreshColors);\n});\npercent.addEventListener('change', refreshColors);\npercent.addEventListener('input', refreshColors);\n"]}